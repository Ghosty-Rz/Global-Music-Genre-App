<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Result - Music Genre Classifier</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">ðŸ’¿</div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/about">About Us</a>
        </div>
        <a href="/" class="cta-button">TEST A SONG</a>
    </nav>

    <div class="result-page">
      <div class="audio-overlay">
        <audio id="bg-audio" autoplay loop>
            <source src="/static/uploads/{{ filename }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
      </div>
      <button id="mute-btn">ðŸ”‡</button>

        <div class="result-container">
            <div class="result-card">
                <p>{{ filename }}</p>
                <h2>Your song Falls under:</h2>
                <h1>{{ top }}</h1>
            </div>

            <h3>The model hears also a bit of:</h3>
            {% for genre, percent in others %}
                <div class="genre-bar">
                    <span>{{ genre }}</span>
                    <span>{{ percent | round | int }} %</span>
                </div>
            {% endfor %}
        </div>
    </div>
  

    <script>
        const bgAudio = document.getElementById("bg-audio");
        const muteBtn = document.getElementById("mute-btn");

        muteBtn.addEventListener("click", () => {
            bgAudio.muted = !bgAudio.muted;
            muteBtn.textContent = bgAudio.muted ? "ðŸ”ˆ" : "ðŸ”‡";
        });
    </script>
</body>
</html>
